<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>الفنادق التي نتعامل معها | سيافا ترافل</title>

  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#05060a;
      --panel:#111217;
      --gold:#d4af37;
    }
    body{
      margin:0;
      font-family:'Cairo',sans-serif;
      background:var(--bg);
      color:#fff;
      direction:rtl;
    }

    .header{
      padding:34px 18px;
      text-align:center;
      background:rgba(17,18,23,0.9);
      border-bottom:1px solid rgba(255,255,255,0.06);
    }
    .header h1{ margin:0 0 10px 0; font-size:30px; }
    .header p{ margin:0; opacity:0.85; line-height:1.8; }

    .top-actions{
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      margin-top:14px;
    }

    .container{
      max-width:1000px;
      margin:auto;
      padding:28px 18px 70px;
    }

    .search{
      display:flex;
      gap:12px;
      margin:18px 0 22px;
      flex-wrap:wrap;
    }
    .search input{
      flex:1;
      min-width:240px;
      padding:14px 14px;
      border-radius:12px;
      border:none;
      font-family:'Cairo',sans-serif;
      outline:none;
    }

    .btn{
      background:var(--gold);
      color:#000;
      padding:14px 18px;
      border-radius:999px;
      font-weight:bold;
      text-decoration:none;
      border:none;
      cursor:pointer;
    }
    .btn.secondary{
      background:transparent;
      color:#fff;
      border:1px solid rgba(255,255,255,0.22);
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:14px;
    }

    .hotel{
      background:rgba(17,18,23,0.92);
      border:1px solid rgba(255,255,255,0.06);
      border-radius:14px;
      padding:12px;
      line-height:1.8;
      overflow:hidden;
    }

    .hotel-thumb{
      width:100%;
      height:150px;
      object-fit:cover;
      border-radius:10px;
      display:block;
      cursor:zoom-in;
      border:1px solid rgba(255,255,255,0.12);
      background:#0b0c10;
    }

    .hotel-meta{ padding:8px 4px 4px; }
    .hotel b{ display:block; font-size:16px; margin-bottom:4px; }
    .muted{ opacity:0.8; font-size:13px; }

    .gallery-btn{
      margin-top:8px;
      width:100%;
      background:transparent;
      color:#fff;
      border:1px solid rgba(255,255,255,0.25);
      border-radius:10px;
      padding:10px;
      cursor:pointer;
    }

    .footer-note{
      margin-top:22px;
      background:rgba(17,18,23,0.92);
      border:1px solid rgba(255,255,255,0.06);
      border-radius:14px;
      padding:16px;
      line-height:1.9;
    }
    .footer-note a{ color:#fff; }

    /* Lightbox */
    .lightbox{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background:rgba(5,6,10,0.90);
      z-index:1200;
      padding:14px;
    }
    .lightbox.open{ display:flex; }

    .lightbox-box{
      width:min(1000px, 100%);
      max-height:92vh;
      background:rgba(14,15,20,0.95);
      border:1px solid rgba(255,255,255,0.16);
      border-radius:16px;
      padding:10px;
    }

    .lightbox-head{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      padding:4px 4px 10px;
    }

    .lightbox-title{ font-size:14px; opacity:0.88; }

    .lightbox-close,
    .lightbox-nav{
      width:40px;
      height:40px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.2);
      background:rgba(255,255,255,0.06);
      color:#fff;
      cursor:pointer;
      font-size:22px;
    }

    .lightbox-main{
      position:relative;
      border-radius:14px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,0.12);
    }

    .lightbox-image{
      width:100%;
      max-height:66vh;
      object-fit:contain;
      display:block;
      background:#0b0c10;
    }

    .lightbox-prev,
    .lightbox-next{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
    }
    .lightbox-prev{ left:8px; }
    .lightbox-next{ right:8px; }

    .lightbox-strip{
      margin-top:10px;
      display:flex;
      gap:8px;
      overflow-x:auto;
    }

    .lightbox-thumb{
      width:62px;
      height:62px;
      object-fit:cover;
      border-radius:8px;
      border:2px solid transparent;
      opacity:.8;
      cursor:pointer;
      flex:0 0 auto;
    }

    .lightbox-thumb.active{
      border-color:var(--gold);
      opacity:1;
    }
  </style>
</head>

<body>

  <div class="header">
    <h1>الفنادق التي نتعامل معها</h1>
    <p>اضغط على أي صورة لفندق لعرضها بشكل مكبر والتنقل بين الصور ✅</p>
    <div class="top-actions">
      <a class="btn secondary" href="index.html">⬅ الرجوع للموقع الرئيسي</a>
      <a class="btn" href="https://wa.me/905317387785">تواصل واتساب</a>
    </div>
  </div>

  <div class="container">

    <div class="search">
      <input id="q" type="text" placeholder="ابحث عن فندق… مثال: Marriott" oninput="filterHotels()" />
      <button class="btn" onclick="document.getElementById('q').value=''; filterHotels();">مسح</button>
    </div>

    <div class="grid" id="hotelList">
      <div class="hotel" data-hotel="Marriott Hotel Şişli" data-city="إسطنبول"></div>
      <div class="hotel" data-hotel="Hilton Istanbul Bomonti" data-city="إسطنبول"></div>
      <div class="hotel" data-hotel="Sheraton Istanbul Levent" data-city="إسطنبول"></div>
      <div class="hotel" data-hotel="Radisson Blu Şişli" data-city="إسطنبول"></div>
      <div class="hotel" data-hotel="Ramada Plaza By Wyndham Sultanahmet" data-city="إسطنبول"></div>
      <div class="hotel" data-hotel="Divan Istanbul Taksim" data-city="إسطنبول"></div>
      <div class="hotel" data-hotel="Point Hotel Taksim" data-city="إسطنبول"></div>
      <div class="hotel" data-hotel="Crowne Plaza Old City" data-city="إسطنبول"></div>
      <div class="hotel" data-hotel="Mercure Istanbul Bomonti" data-city="إسطنبول"></div>
      <div class="hotel" data-hotel="Holiday Inn Şişli" data-city="إسطنبول"></div>
      <div class="hotel" data-hotel="Arts Hotel Harbiye" data-city="إسطنبول"></div>
      <div class="hotel" data-hotel="Lions Royal Hotel" data-city="إسطنبول"></div>
    </div>

    <div class="footer-note">
      يوجد خيارات أخرى أيضاً حسب التوفر والتاريخ والمستوى المطلوب.<br>
      للتأكد أو طلب فندق غير موجود في القائمة، تواصل معنا على واتساب:
      <a href="https://wa.me/905317387785">905317387785</a>
    </div>

  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-box">
      <div class="lightbox-head">
        <div class="lightbox-title" id="lightboxTitle"></div>
        <button class="lightbox-close" id="lightboxClose" aria-label="إغلاق">✕</button>
      </div>
      <div class="lightbox-main">
        <button class="lightbox-nav lightbox-prev" id="lightboxPrev" aria-label="السابق">‹</button>
        <img id="lightboxImage" class="lightbox-image" alt="">
        <button class="lightbox-nav lightbox-next" id="lightboxNext" aria-label="التالي">›</button>
      </div>
      <div class="lightbox-strip" id="lightboxStrip"></div>
    </div>
  </div>

  <script>
    function imageFromSeed(seed, width, height){
      return `https://picsum.photos/seed/${encodeURIComponent(seed)}/${width}/${height}`;
    }

    function hotelImages(hotelName){
      // صور افتراضية للعرض (بدّلها بصورك الحقيقية لاحقاً)
      return Array.from({length: 9}, (_, i) => imageFromSeed(`${hotelName}-${i+1}`, 1000, 700));
    }

    const hotelCoverOverrides = {
      "Marriott Hotel Şişli": [
        "https://images.skyscrapercenter.com/building/istanbul-marriott-hotel-sisli_igor-butyrskii1.jpg",
        "https://access.com.tr/wp-content/uploads/2021/08/istdt-exterior-0001-hor-feat.jpg",
        "marriott sisli.jpg",
        "marriott%20sisli.jpg",
        "Marriott Sisli.jpg"
      ],
      "Hilton Istanbul Bomonti": [
        "https://www.instyle.gr/wp-content/uploads/2014/01/21/1-Hilton-Istanbul-Bomonti-Exterior1.jpg",
        "https://x.cdrst.com/foto/hotel-sf/38cfa/granderesp/hilton-istanbul-bomonti-hotel-conference-center-exterior-1209b2d0.jpg",
        "hilton bomonti.jpg",
        "hilton%20bomonti.jpg",
        "Hilton Bomonti.jpg",
        "hilton-bomonti.jpg"
      ],
      "Sheraton Istanbul Levent": [
        "https://media-cdn.tripadvisor.com/media/photo-s/24/9b/1b/c8/exterior.jpg",
        "https://cache.marriott.com/is/image/marriotts7prod/si-istsl-exterior-15986:Wide-Hor?wid=1336&fit=constrain",
        "sheraton levent.webp",
        "sheraton%20levent.webp",
        "Sheraton Levent.webp"
      ],
      "Ramada Plaza By Wyndham Sultanahmet": [
        "https://www.wyndhamhotels.com/content/dam/property-images/en-us/ra/tr/others/istanbul/56602/56602_exterior_view_1.jpg",
        "https://cf.bstatic.com/xdata/images/hotel/max1024x768/522066005.jpg?k=6416ffa8debdeee8b9cec5656271a340ec73978555bbf3327b1a465b1e4e62da&o=&hp=1",
        "ramada plaza sultanahmet.webp",
        "ramada%20plaza%20sultanahmet.webp",
        "Ramada Plaza Sultanahmet.webp"
      ]
    };

    function renderHotels(){
      const cards = document.querySelectorAll('#hotelList .hotel');
      cards.forEach((card) => {
        const hotel = card.dataset.hotel;
        const city = card.dataset.city;

        const fallbackCover = imageFromSeed(`${hotel}-cover`, 1000, 620);
        const overrideCandidates = hotelCoverOverrides[hotel] || [];
        const cover = (overrideCandidates[0] || fallbackCover);
        const fallbackChain = [...overrideCandidates.slice(1), fallbackCover];

        card.innerHTML = `
          <img class="hotel-thumb" src="${cover}" loading="lazy"
               alt="واجهة ${hotel}"
               data-fallbacks='${JSON.stringify(fallbackChain)}'>
          <div class="hotel-meta">
            <b>${hotel}</b>
            <div class="muted">${city}</div>
          </div>
          <button class="gallery-btn" type="button">عرض الصور</button>
        `;
      });
    }

    function filterHotels(){
      const q = (document.getElementById('q').value || '').toLowerCase().trim();
      const items = document.querySelectorAll('#hotelList .hotel');
      items.forEach(item=>{
        const text = item.innerText.toLowerCase();
        item.style.display = text.includes(q) ? '' : 'none';
      });
    }

    const lightbox = document.getElementById('lightbox');
    const lightboxImage = document.getElementById('lightboxImage');
    const lightboxTitle = document.getElementById('lightboxTitle');
    const lightboxStrip = document.getElementById('lightboxStrip');

    let activeImages = [];
    let activeIndex = 0;
    let activeHotel = '';

    function renderThumbs(){
      lightboxStrip.innerHTML = activeImages.map((src, idx) => (
        `<img src="${src}" class="lightbox-thumb ${idx===activeIndex?'active':''}" data-idx="${idx}" loading="lazy" alt="${activeHotel} ${idx+1}">`
      )).join('');
    }

    function showImage(index){
      activeIndex = (index + activeImages.length) % activeImages.length;
      lightboxImage.src = activeImages[activeIndex];
      lightboxTitle.textContent = `${activeHotel} — صورة ${activeIndex + 1} من ${activeImages.length}`;
      renderThumbs();
    }

    function openLightbox(hotel, startIndex){
      activeHotel = hotel;
      activeImages = hotelImages(hotel);
      lightbox.classList.add('open');
      lightbox.setAttribute('aria-hidden', 'false');
      showImage(startIndex);
    }

    function closeLightbox(){
      lightbox.classList.remove('open');
      lightbox.setAttribute('aria-hidden', 'true');
      lightboxImage.src = '';
    }

    renderHotels();

    // ✅ fallback chain لصور الكوفر
    document.getElementById('hotelList').addEventListener('error', (e) => {
      const img = e.target.closest('.hotel-thumb');
      if(!img) return;

      const fallbacks = JSON.parse(img.dataset.fallbacks || '[]');
      const next = fallbacks.shift();
      img.dataset.fallbacks = JSON.stringify(fallbacks);

      if(next){
        img.src = next;
      }
    }, true);

    // فتح اللايت بوكس عند الضغط على الصورة أو زر عرض الصور
    document.getElementById('hotelList').addEventListener('click', (e) => {
      const card = e.target.closest('.hotel');
      if(!card) return;

      const isImageClick = !!e.target.closest('.hotel-thumb');
      const isButtonClick = !!e.target.closest('.gallery-btn');
      if(!isImageClick && !isButtonClick) return;

      openLightbox(card.dataset.hotel, 0);
    });

    lightboxStrip.addEventListener('click', (e) => {
      const thumb = e.target.closest('.lightbox-thumb');
      if(!thumb) return;
      showImage(parseInt(thumb.dataset.idx, 10));
    });

    document.getElementById('lightboxPrev').addEventListener('click', () => showImage(activeIndex - 1));
    document.getElementById('lightboxNext').addEventListener('click', () => showImage(activeIndex + 1));
    document.getElementById('lightboxClose').addEventListener('click', closeLightbox);

    lightbox.addEventListener('click', (e) => {
      if(e.target === lightbox) closeLightbox();
    });

    document.addEventListener('keydown', (e) => {
      if(!lightbox.classList.contains('open')) return;
      if(e.key === 'Escape') closeLightbox();

      // بما ان الصفحة RTL: خلي اليمين للبعدي واليسار للسابق (منطقي بصرياً)
      if(e.key === 'ArrowLeft') showImage(activeIndex - 1);
      if(e.key === 'ArrowRight') showImage(activeIndex + 1);
    });
  </script>

</body>
</html>
