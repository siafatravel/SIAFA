<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ø§Ù„ÙÙ†Ø§Ø¯Ù‚ Ø§Ù„ØªÙŠ Ù†ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡Ø§ | Ø³ÙŠØ§ÙØ§ ØªØ±Ø§ÙÙ„</title>
<link rel="icon" type="image/png" href="logo.png">
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#05060a;
  --panel:#111217;
  --gold:#d4af37;
}
body{
  margin:0;
  font-family:'Cairo',sans-serif;
  background:var(--bg);
  color:#fff;
  direction:rtl;
}
.header{
  padding:34px 18px;
  text-align:center;
  background:rgba(17,18,23,0.9);
  border-bottom:1px solid rgba(255,255,255,0.06);
}
.header h1{ margin:0 0 10px 0; font-size:30px; }
.header p{ margin:0; opacity:0.85; line-height:1.8; }

.container{
  max-width:1000px;
  margin:auto;
  padding:28px 18px 70px;
}
.search{
  display:flex;
  gap:12px;
  margin:18px 0 22px;
  flex-wrap:wrap;
}
.search input{
  flex:1;
  min-width:240px;
  padding:14px 14px;
  border-radius:12px;
  border:none;
  font-family:'Cairo',sans-serif;
}
.search select{
  padding:14px 12px;
  border-radius:12px;
  border:none;
  font-family:'Cairo',sans-serif;
  background:#fff;
  color:#111;
  min-width:150px;
}

/* Area map */
.area-map{
  margin:0 0 16px;
  background:rgba(17,18,23,0.94);
  border:1px solid rgba(255,255,255,0.08);
  border-radius:16px;
  padding:16px;
}
.area-map h2{ margin:0 0 8px; font-size:19px; }
.area-map p{ margin:0 0 12px; opacity:.86; font-size:14px; line-height:1.8; }
.map-controls{ display:flex; gap:10px; flex-wrap:wrap; margin-bottom:10px; }
.map-chip{ display:flex; align-items:center; gap:8px; font-size:13px; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.1); border-radius:999px; padding:7px 12px; }
.map-chip input{ accent-color:#d4af37; }
.map-wrap{ position:relative; border-radius:14px; overflow:hidden; border:1px solid rgba(255,255,255,.08); background:radial-gradient(900px 300px at 60% -20%, rgba(212,175,55,.12), transparent 60%), linear-gradient(180deg,#10131b,#0a0d13); }
#istanbulMap{ width:100%; height:auto; display:block; }
.bosphorus{ stroke:#4da3ff; stroke-width:6; fill:none; opacity:.5; }
.metro-line{ stroke:#e24a8d; stroke-width:5; fill:none; stroke-dasharray:2 0; }
.tram-line{ stroke:#34d399; stroke-width:5; fill:none; }
.map-zone{ fill:rgba(212,175,55,.13); stroke:rgba(212,175,55,.55); stroke-width:1.2; }
.map-zone-label{ fill:#fff; font-size:12px; font-family:'Cairo',sans-serif; opacity:.9; }
.poi{ fill:#f7d77a; stroke:#1e2128; stroke-width:2; cursor:pointer; transition:.2s; }
.poi:hover{ transform:scale(1.08); transform-origin:center; }
.poi-label{ fill:#fff; font-size:11px; font-family:'Cairo',sans-serif; opacity:.95; }
.map-legend{ display:flex; gap:14px; flex-wrap:wrap; font-size:12px; opacity:.85; margin-top:10px; }
.legend-item{ display:flex; align-items:center; gap:6px; }
.legend-line{ width:20px; height:4px; border-radius:4px; }
.metro-swatch{ background:#e24a8d; }
.tram-swatch{ background:#34d399; }
.info-badge{ position:absolute; left:12px; bottom:12px; max-width:280px; background:rgba(9,11,16,.88); border:1px solid rgba(255,255,255,.12); border-radius:10px; padding:10px 12px; font-size:12px; line-height:1.7; }
@media (max-width:768px){
  .info-badge{ max-width:220px; font-size:11px; }
}

.btn{
  background:var(--gold);
  color:#000;
  padding:14px 18px;
  border-radius:999px;
  font-weight:bold;
  text-decoration:none;
  border:none;
  cursor:pointer;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:14px;
}
.hotel{
  background:rgba(17,18,23,0.92);
  border:1px solid rgba(255,255,255,0.06);
  border-radius:14px;
  padding:12px;
  line-height:1.8;
  overflow:hidden;
}
.hotel-thumb{
  width:100%;
  height:150px;
  object-fit:cover;
  border-radius:10px;
  display:block;
  cursor:zoom-in;
  border:1px solid rgba(255,255,255,0.12);
  background:#0b0c10;
}
.hotel-meta{ padding:8px 4px 4px; }
.hotel-headline{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
}
.hotel b{ display:block; font-size:16px; margin-bottom:2px; line-height:1.5; }
.hotel-ar{ font-size:14px; color:rgba(255,255,255,0.92); }

.hotel-rating{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  line-height:1.2;
  flex:0 0 auto;
}
.rating-label{ font-size:11px; opacity:0.78; }
.rating-stars{
  color:#f5c84b;
  letter-spacing:1px;
  font-size:14px;
  text-shadow:0 1px 6px rgba(212,175,55,.35);
}

.muted{ opacity:0.8; font-size:13px; }
.gallery-btn{
  margin-top:8px;
  width:100%;
  background:transparent;
  color:#fff;
  border:1px solid rgba(255,255,255,0.25);
  border-radius:10px;
  padding:10px;
  cursor:pointer;
}

.footer-note{
  margin-top:22px;
  background:rgba(17,18,23,0.92);
  border:1px solid rgba(255,255,255,0.06);
  border-radius:14px;
  padding:16px;
  line-height:1.9;
}
.footer-note a{ color:#fff; }

.top-actions{
  display:flex;
  justify-content:center;
  gap:10px;
  flex-wrap:wrap;
  margin-top:14px;
}
.secondary{
  background:transparent;
  color:#fff;
  border:1px solid rgba(255,255,255,0.22);
}

.lightbox{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(5,6,10,0.9);
  z-index:1200;
  padding:14px;
}
.lightbox.open{ display:flex; }
.lightbox-box{
  width:min(1000px, 100%);
  max-height:92vh;
  background:rgba(14,15,20,0.95);
  border:1px solid rgba(255,255,255,0.16);
  border-radius:16px;
  padding:10px;
}
.lightbox-head{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  padding:4px 4px 10px;
}
.lightbox-title{font-size:14px; opacity:0.88;}
.lightbox-close,
.lightbox-nav{
  width:40px;
  height:40px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.2);
  background:rgba(255,255,255,0.06);
  color:#fff;
  cursor:pointer;
  font-size:22px;
}
.lightbox-main{
  position:relative;
  border-radius:14px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,0.12);
}
.lightbox-image{
  width:100%;
  max-height:66vh;
  object-fit:contain;
  display:block;
  background:#0b0c10;
}
.lightbox-prev,
.lightbox-next{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
}
.lightbox-prev{ left:8px; }
.lightbox-next{ right:8px; }
.lightbox-strip{
  margin-top:10px;
  display:flex;
  gap:8px;
  overflow-x:auto;
}
.lightbox-thumb{
  width:62px;
  height:62px;
  object-fit:cover;
  border-radius:8px;
  border:2px solid transparent;
  opacity:.8;
  cursor:pointer;
  flex:0 0 auto;
}
.lightbox-thumb.active{
  border-color:var(--gold);
  opacity:1;
}
</style>
</head>

<body>

<div class="header">
  <h1>Ø§Ù„ÙÙ†Ø§Ø¯Ù‚ Ø§Ù„ØªÙŠ Ù†ØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡Ø§</h1>
  <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ ØµÙˆØ±Ø© Ù„ÙÙ†Ø¯Ù‚ Ù„Ø¹Ø±Ø¶Ù‡Ø§ Ø¨Ø´ÙƒÙ„ Ù…ÙƒØ¨Ø± ÙˆØ§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙˆØ± âœ…</p>
  <div class="top-actions">
    <a class="btn secondary" href="index.html">â¬… Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</a>
    <a class="btn" href="https://wa.me/905317387785">ØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨</a>
  </div>
</div>

<div class="container">

  <div class="search">
    <input id="q" type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ÙÙ†Ø¯Ù‚â€¦ Ù…Ø«Ø§Ù„: Marriott" oninput="filterHotels()" />
    <select id="ratingFilter" onchange="filterHotels()" aria-label="ÙÙ„ØªØ± Ø§Ù„ØªØµÙ†ÙŠÙ">
      <option value="5">5 Ù†Ø¬ÙˆÙ…</option>
      <option value="34">3-4 Ù†Ø¬ÙˆÙ…</option>
      <option value="all" selected>ÙƒÙ„ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</option>
    </select>
    <select id="areaFilter" onchange="filterHotels()" aria-label="ÙÙ„ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø©">
      <option value="all" selected>ÙƒÙ„ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚</option>
    </select>
    <button class="btn" onclick="resetFilters()">Ù…Ø³Ø­</button>
  </div>

  <section class="area-map" aria-label="Ø®Ø±ÙŠØ·Ø© ØªÙØ§Ø¹Ù„ÙŠØ© Ù„Ù…Ù†Ø§Ø·Ù‚ Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„ Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ©">
    <h2>ğŸ—ºï¸ Ø®Ø±ÙŠØ·Ø© Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„ Ø§Ù„Ø³ÙŠØ§Ø­ÙŠØ© (ØªÙØ§Ø¹Ù„ÙŠØ©)</h2>
    <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ Ù†Ù‚Ø·Ø© Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù…Ù†Ø·Ù‚Ø©. ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø®Ø·ÙˆØ· Ø§Ù„Ù†Ù‚Ù„ Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© Ù‚Ø±Ø¨ Ø§Ù„ÙÙ†Ø¯Ù‚ Ù…Ù† Ø®Ø· Ø§Ù„ØªØ±Ø§Ù…ÙˆØ§ÙŠ T1 ÙˆØ®Ø·ÙˆØ· Ø§Ù„Ù…ØªØ±Ùˆ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ©.</p>

    <div class="map-controls">
      <label class="map-chip"><input type="checkbox" id="toggleMetro" checked> Ø¥Ø¸Ù‡Ø§Ø± Ø®Ø·ÙˆØ· Ø§Ù„Ù…ØªØ±Ùˆ</label>
      <label class="map-chip"><input type="checkbox" id="toggleTram" checked> Ø¥Ø¸Ù‡Ø§Ø± Ø®Ø· Ø§Ù„ØªØ±Ø§Ù…ÙˆØ§ÙŠ T1</label>
    </div>

    <div class="map-wrap">
      <svg id="istanbulMap" viewBox="0 0 980 420" role="img" aria-label="Ø®Ø±ÙŠØ·Ø© Ø§Ø³Ø·Ù†Ø¨ÙˆÙ„ Ù…Ø¹ Ù†Ù‚Ø§Ø· Ø³ÙŠØ§Ø­ÙŠØ© ÙˆØ®Ø·ÙˆØ· Ø§Ù„Ù†Ù‚Ù„">
        <rect x="0" y="0" width="980" height="420" fill="rgba(255,255,255,0.02)"/>
        <path class="bosphorus" d="M540 10 C510 85, 525 130, 560 185 C595 240, 610 305, 590 410"/>

        <path class="metro-line" data-layer="metro" d="M120 90 L250 80 L390 88 L505 95 L650 115 L800 135"/>
        <path class="metro-line" data-layer="metro" d="M210 300 L330 255 L450 230 L580 220 L720 235"/>
        <path class="tram-line" data-layer="tram" d="M145 195 L220 200 L300 208 L370 216 L435 224 L500 233"/>

        <ellipse class="map-zone" cx="240" cy="215" rx="160" ry="120"/>
        <text class="map-zone-label" x="240" y="215" text-anchor="middle">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©</text>

        <ellipse class="map-zone" cx="470" cy="165" rx="130" ry="95"/>
        <text class="map-zone-label" x="470" y="165" text-anchor="middle">ØºÙ„Ø§Ø·Ø© - ÙƒØ§Ø±Ø§ÙƒÙˆÙŠ</text>

        <ellipse class="map-zone" cx="690" cy="170" rx="190" ry="130"/>
        <text class="map-zone-label" x="690" y="170" text-anchor="middle">Ø¨ÙŠÙˆØºÙ„Ùˆ - Ø´ÙŠØ´Ù„ÙŠ - Ø¨ÙŠØ´ÙƒØªØ§Ø´</text>

        <circle class="poi" data-name="Ø§Ù„ÙØ§ØªØ­" data-info="Ù…Ù†Ø·Ù‚Ø© ØªØ§Ø±ÙŠØ®ÙŠØ© Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† Ø¬Ø§Ù…Ø¹ Ø§Ù„ÙØ§ØªØ­ ÙˆÙ…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø¥Ù‚Ø§Ù…Ø© Ø§Ù„Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† Ø§Ù„Ø£Ø³ÙˆØ§Ù‚." cx="170" cy="230" r="8"/>
        <text class="poi-label" x="182" y="234">Ø§Ù„ÙØ§ØªØ­</text>

        <circle class="poi" data-name="Ø³Ù„Ø·Ø§Ù† Ø£Ø­Ù…Ø¯" data-info="Ù‚Ù„Ø¨ Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„ Ø§Ù„Ø³ÙŠØ§Ø­ÙŠ: Ø§Ù„Ø¬Ø§Ù…Ø¹ Ø§Ù„Ø£Ø²Ø±Ù‚ØŒ Ø¢ÙŠØ§ ØµÙˆÙÙŠØ§ØŒ ÙˆÙ‚ØµØ± ØªÙˆØ¨ÙƒØ§Ø¨ÙŠ." cx="255" cy="210" r="8"/>
        <text class="poi-label" x="268" y="214">Ø³Ù„Ø·Ø§Ù† Ø£Ø­Ù…Ø¯</text>

        <circle class="poi" data-name="Ø³ÙŠØ±ÙƒØ¬ÙŠ" data-info="Ù†Ù‚Ø·Ø© Ù…ÙˆØ§ØµÙ„Ø§Øª Ù‚ÙˆÙŠØ© ÙˆÙ‚Ø±ÙŠØ¨Ø© Ù…Ù† Ù…ÙŠÙ†Ø§Ø¡ Ø£Ù…ÙŠÙ†ÙˆÙ†Ùˆ ÙˆØ®Ø· Ø§Ù„ØªØ±Ø§Ù…ÙˆØ§ÙŠ T1." cx="315" cy="212" r="8"/>
        <text class="poi-label" x="328" y="216">Ø³ÙŠØ±ÙƒØ¬ÙŠ</text>

        <circle class="poi" data-name="Ø£Ù…ÙŠÙ†ÙˆÙ†Ùˆ" data-info="Ù…Ø±ÙƒØ² Ø¨Ø­Ø±ÙŠ ÙˆØªØ¬Ø§Ø±ÙŠ Ù…Ù‡Ù…ØŒ Ù…Ù†Ù‡ Ø³Ù‡Ù„ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø¨Ø§Ø²Ø§Ø± Ø§Ù„Ù…ØµØ±ÙŠ ÙˆØ§Ù„Ø¹Ø¨Ù‘Ø§Ø±Ø§Øª." cx="365" cy="222" r="8"/>
        <text class="poi-label" x="378" y="226">Ø£Ù…ÙŠÙ†ÙˆÙ†Ùˆ</text>

        <circle class="poi" data-name="ÙƒØ§Ø±Ø§ÙƒÙˆÙŠ" data-info="Ù…Ù†Ø·Ù‚Ø© Ù†Ø§Ø¨Ø¶Ø© Ø¨Ø§Ù„Ù‚Ø±Ø¨ Ù…Ù† Ø¨Ø±Ø¬ ØºÙ„Ø§Ø·Ø© ÙˆÙ…Ù‚Ø§Ù‡ÙŠ ÙˆÙ…Ø·Ø§Ø¹Ù… Ø­Ø¯ÙŠØ«Ø©." cx="455" cy="195" r="8"/>
        <text class="poi-label" x="468" y="199">ÙƒØ§Ø±Ø§ÙƒÙˆÙŠ</text>

        <circle class="poi" data-name="ØªÙ‚Ø³ÙŠÙ…" data-info="ÙˆØ³Ø· Ø¨ÙŠÙˆØºÙ„Ùˆ Ø§Ù„Ø­ÙŠÙˆÙŠ ÙˆÙ‚Ø±Ø¨ Ø´Ø§Ø±Ø¹ Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„ ÙˆÙ…Ø­Ø·Ø§Øª Ù…ØªØ±Ùˆ Ø±Ø¦ÙŠØ³ÙŠØ©." cx="605" cy="184" r="8"/>
        <text class="poi-label" x="618" y="188">ØªÙ‚Ø³ÙŠÙ…</text>

        <circle class="poi" data-name="Ø´ÙŠØ´Ù„ÙŠ" data-info="Ù…Ù†Ø·Ù‚Ø© ÙÙ†Ø§Ø¯Ù‚ ÙˆÙ…ÙˆÙ„Ø§Øª ÙˆÙ…ÙˆØ§ØµÙ„Ø§Øª Ù‚ÙˆÙŠØ© ÙˆØªØ¹ØªØ¨Ø± Ù†Ù‚Ø·Ø© Ø¥Ù‚Ø§Ù…Ø© Ù…ÙØ¶Ù„Ø©." cx="688" cy="168" r="8"/>
        <text class="poi-label" x="701" y="172">Ø´ÙŠØ´Ù„ÙŠ</text>

        <circle class="poi" data-name="Ø¨ÙŠØ´ÙƒØªØ§Ø´" data-info="Ù‚Ø±ÙŠØ¨Ø© Ù…Ù† Ø§Ù„Ø¨ÙˆØ³ÙÙˆØ±ØŒ Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø¥Ø·Ù„Ø§Ù„Ø§Øª ÙˆØ§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹ Ù„Ù…Ù†Ø§Ø·Ù‚ Ù…ØªØ¹Ø¯Ø¯Ø©." cx="760" cy="205" r="8"/>
        <text class="poi-label" x="773" y="209">Ø¨ÙŠØ´ÙƒØªØ§Ø´</text>
      </svg>

      <div class="info-badge" id="mapInfo">Ø§Ø®ØªØ± Ø£ÙŠ Ù…Ù†Ø·Ù‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ù„Ø¹Ø±Ø¶ Ù†Ø¨Ø°Ø© Ø³Ø±ÙŠØ¹Ø© Ø¹Ù†Ù‡Ø§.</div>
    </div>

    <div class="map-legend">
      <span class="legend-item"><span class="legend-line metro-swatch"></span>Ø®Ø·ÙˆØ· Ø§Ù„Ù…ØªØ±Ùˆ</span>
      <span class="legend-item"><span class="legend-line tram-swatch"></span>Ø®Ø· Ø§Ù„ØªØ±Ø§Ù…ÙˆØ§ÙŠ T1</span>
      <span class="legend-item">â— Ù†Ù‚Ø§Ø· Ø³ÙŠØ§Ø­ÙŠØ© ÙˆÙÙ†Ø¯Ù‚ÙŠØ© Ø¨Ø§Ø±Ø²Ø©</span>
    </div>
  </section>

  <div class="footer-note" style="margin:0 0 14px 0;">
    Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙˆØ¥Ø¶Ø§ÙØ© ÙÙ†Ø§Ø¯Ù‚ Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ. Ø¥Ø°Ø§ Ù„Ù… ØªØ¬Ø¯ Ø§Ù„ÙÙ†Ø¯Ù‚ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø­Ø§Ù„ÙŠØ§Ù‹ØŒ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ ÙˆØ³Ù†ÙˆÙÙ‘Ø± Ù„Ùƒ Ø®ÙŠØ§Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø© âœ…
  </div>

  <div class="grid" id="hotelList">
    <div class="hotel" data-hotel="Marriott Hotel ÅiÅŸli" data-hotel-ar="Ù…Ø§Ø±ÙŠÙˆØª Ø´ÙŠØ´Ù„ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ø´ÙŠØ´Ù„ÙŠ" data-stars="5"></div>
    <div class="hotel" data-hotel="Hilton Istanbul Bomonti" data-hotel-ar="Ù‡ÙŠÙ„ØªÙˆÙ† Ø¨ÙˆÙ…ÙˆÙ†ØªÙŠ Ø´ÙŠØ´Ù„ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ø´ÙŠØ´Ù„ÙŠ" data-stars="5"></div>
    <div class="hotel" data-hotel="Sheraton Istanbul Levent" data-hotel-ar="Ø´ÙŠØ±Ø§ØªÙˆÙ† Ù„ÙŠÙÙŠÙ†Øª" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ù„ÙŠÙÙŠÙ†Øª" data-stars="5"></div>
    <div class="hotel" data-hotel="Ramada Plaza By Wyndham Sultanahmet" data-hotel-ar="Ø±Ù…Ø§Ø¯Ø§ Ø³Ù„Ø·Ø§Ù† Ø§Ø­Ù…Ø¯ Ù„Ø§Ù„Ø§Ù„ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ù„Ø§Ù„Ø§Ù„ÙŠ" data-stars="5"></div>
    <div class="hotel" data-hotel="Divan Istanbul Taksim" data-hotel-ar="Ø¯ÙŠÙØ§Ù† ØªÙ‚Ø³ÙŠÙ…" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="ØªÙ‚Ø³ÙŠÙ…" data-stars="5"></div>
    <div class="hotel" data-hotel="Point Hotel Taksim" data-hotel-ar="Ø¨ÙˆÙŠÙ†Øª ØªÙ‚Ø³ÙŠÙ…" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="ØªÙ‚Ø³ÙŠÙ…" data-stars="5"></div>
    <div class="hotel" data-hotel="Crowne Plaza Old City" data-hotel-ar="ÙƒØ±Ø§ÙˆÙ† Ø¨Ù„Ø§Ø²Ø§ Ø§ÙˆÙ„Ø¯ Ø³ÙŠØªÙŠ Ù„Ø§Ù„Ø§Ù„ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ù„Ø§Ù„Ø§Ù„ÙŠ" data-stars="5"></div>
    <div class="hotel" data-hotel="Mercure Istanbul Bomonti" data-hotel-ar="Ù…ÙŠØ±ÙƒÙˆØ± Ø¨ÙˆÙ…ÙˆÙ†ØªÙŠ Ø´ÙŠØ´Ù„ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ø´ÙŠØ´Ù„ÙŠ" data-stars="5"></div>
    <div class="hotel" data-hotel="Holiday Inn ÅiÅŸli" data-hotel-ar="Ù‡ÙˆÙ„ÙŠØ¯ÙŠ Ø§Ù† Ø´ÙŠØ´Ù„ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ø´ÙŠØ´Ù„ÙŠ" data-stars="5"></div>
    <div class="hotel" data-hotel="Arts Hotel Harbiye" data-hotel-ar="Ø§Ø±ØªØ³ Ø­Ø±Ø¨ÙŠØ© ØªÙ‚Ø³ÙŠÙ…" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="ØªÙ‚Ø³ÙŠÙ…" data-stars="5"></div>
    <div class="hotel" data-hotel="Lions Royal Hotel" data-hotel-ar="Ù„ÙŠÙˆÙ†Ø² Ø±ÙˆÙŠØ§Ù„" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ù„Ø§Ù„Ø§Ù„ÙŠ" data-stars="4" data-note="Ø§ÙØªØªØ§Ø­ Ø­Ø¯ÙŠØ«"></div>

    <div class="hotel" data-hotel="Mosaic Hotel Laleli" data-hotel-ar="Ù…ÙˆØ²Ø§ÙŠÙŠÙƒ Ù„Ø§Ù„Ø§Ù„ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ù„Ø§Ù„Ø§Ù„ÙŠ" data-stars="4"></div>
    <div class="hotel" data-hotel="Beethoven Premium Hotel Laleli" data-hotel-ar="Ø¨ÙŠØªÙ‡ÙˆÙÙ† Ø¨Ø±ÙŠÙ…ÙŠÙˆÙ… Ù„Ø§Ù„Ø§Ù„ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ù„Ø§Ù„Ø§Ù„ÙŠ" data-stars="4"></div>
    <div class="hotel" data-hotel="The Parma Downtown Laleli" data-hotel-ar="Ø°Ø§ Ø¨Ø±Ø§Ù…Ø§ Ø¯Ø§ÙˆÙ† ØªØ§ÙˆÙ† Ù„Ø§Ù„Ø§Ù„ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ù„Ø§Ù„Ø§Ù„ÙŠ" data-stars="4"></div>
    <div class="hotel" data-hotel="Martinenz Hotel Laleli" data-hotel-ar="Ù…Ø§Ø±ØªÙŠÙ†ÙŠÙ†Ø² Ù„Ø§Ù„Ø§Ù„ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ù„Ø§Ù„Ø§Ù„ÙŠ" data-stars="4"></div>
    <div class="hotel" data-hotel="Four Sides ÅiÅŸli" data-hotel-ar="ÙÙˆØ±Ø³Ø§ÙŠØ¯Ø³ Ø´ÙŠØ´Ù„ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ø´ÙŠØ´Ù„ÙŠ" data-stars="4"></div>
    <div class="hotel" data-hotel="Mare Park Hotel ÅiÅŸli" data-hotel-ar="Ù…Ø§Ø±ÙŠ Ø¨Ø§Ø±Ùƒ Ø´ÙŠØ´Ù„ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ø´ÙŠØ´Ù„ÙŠ" data-stars="4"></div>
    <div class="hotel" data-hotel="AkgÃ¼n Istanbul Hotel TopkapÄ±" data-hotel-ar="Ø§ÙƒØºÙˆÙ† ØªÙˆØ¨ ÙƒØ§Ø¨ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="ØªÙˆØ¨ ÙƒØ§Ø¨ÙŠ" data-stars="5"></div>
    <div class="hotel" data-hotel="Valide Hotel ÅiÅŸli" data-hotel-ar="ÙØ§Ù„ÙŠØ¯Ø§ Ø´ÙŠØ´Ù„ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ø´ÙŠØ´Ù„ÙŠ" data-stars="3"></div>
    <div class="hotel" data-hotel="Eresin Hotels TopkapÄ±" data-hotel-ar="Ø§Ø±Ø³ÙŠÙ† ÙØ§ØªØ­ - ØªÙˆØ¨ ÙƒØ§Ø¨ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="ÙØ§ØªØ­ - ØªÙˆØ¨ ÙƒØ§Ø¨ÙŠ" data-stars="5"></div>
    <div class="hotel" data-hotel="Holiday Inn Istanbul City TopkapÄ±" data-hotel-ar="Ù‡ÙˆÙ„ÙŠØ¯ÙŠ Ø§Ù† ÙØ§ØªØ­ - ØªÙˆØ¨ ÙƒØ§Ø¨ÙŠ" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="ÙØ§ØªØ­ - ØªÙˆØ¨ ÙƒØ§Ø¨ÙŠ" data-stars="5"></div>
    <div class="hotel" data-hotel="The Marmara Pera" data-hotel-ar="Ø°Ø§ Ù…Ø±Ù…Ø±Ø© Ø¨ÙŠØ±Ø§ ØªÙ‚Ø³ÙŠÙ…" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="ØªÙ‚Ø³ÙŠÙ…" data-stars="5"></div>
    <div class="hotel" data-hotel="Arts Hotel Taksim" data-hotel-ar="Ø§Ø±ØªØ³ ØªÙ‚Ø³ÙŠÙ…" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="ØªÙ‚Ø³ÙŠÙ…" data-stars="4"></div>
    <div class="hotel" data-hotel="BarcelÃ³ Istanbul" data-hotel-ar="Ø¨Ø§Ø±Ø³ÙŠÙ„Ùˆ ØªÙ‚Ø³ÙŠÙ…" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="ØªÙ‚Ø³ÙŠÙ…" data-stars="5"></div>
    <div class="hotel" data-hotel="Nevi Hotel & Suites Taksim" data-hotel-ar="ÙˆØ§Ø¬Ù†Ø­Ø© Ù†ÙŠÙÙŠ ØªÙ‚Ø³ÙŠÙ…" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="ØªÙ‚Ø³ÙŠÙ…" data-stars="4"></div>
    <div class="hotel" data-hotel="Renaissance Istanbul Polat Bosphorus Hotel" data-hotel-ar="Ø±ÙŠÙ†ÙŠØ³Ø§Ù†Ø³ Ø¨ÙˆÙ„Ø§Øª Ø¨ÙˆØ³ÙÙˆØ±Ø³" data-city="Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„" data-area="Ø¨ÙŠØ´ÙƒØªØ§Ø´" data-stars="5"></div>
  </div>

  <div class="footer-note">
    ÙŠÙˆØ¬Ø¯ Ø®ÙŠØ§Ø±Ø§Øª Ø£Ø®Ø±Ù‰ Ø£ÙŠØ¶Ø§Ù‹ Ø­Ø³Ø¨ Ø§Ù„ØªÙˆÙØ± ÙˆØ§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨.<br>
    Ù„Ù„ØªØ£ÙƒØ¯ Ø£Ùˆ Ø·Ù„Ø¨ ÙÙ†Ø¯Ù‚ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©ØŒ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨:
    <a href="https://wa.me/905317387785">905317387785</a>
  </div>

</div>

<div class="lightbox" id="lightbox" aria-hidden="true">
  <div class="lightbox-box">
    <div class="lightbox-head">
      <div class="lightbox-title" id="lightboxTitle"></div>
      <button class="lightbox-close" id="lightboxClose" aria-label="Ø¥ØºÙ„Ø§Ù‚">âœ•</button>
    </div>
    <div class="lightbox-main">
      <button class="lightbox-nav lightbox-prev" id="lightboxPrev" aria-label="Ø§Ù„Ø³Ø§Ø¨Ù‚">â€¹</button>
      <img id="lightboxImage" class="lightbox-image" alt="">
      <button class="lightbox-nav lightbox-next" id="lightboxNext" aria-label="Ø§Ù„ØªØ§Ù„ÙŠ">â€º</button>
    </div>
    <div class="lightbox-strip" id="lightboxStrip"></div>
  </div>
</div>

<script>
function imageFromSeed(seed, width, height){
  return `https://picsum.photos/seed/${encodeURIComponent(seed)}/${width}/${height}`;
}

const customHotelGalleries = {
  "Mercure Istanbul Bomonti": [
    "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2a/1e/bd/9f/exterior.jpg?w=700&h=-1&s=1",
    "https://www.ahstatic.com/photos/a4n1_rokgb_00_p_1024x768.jpg",
    "https://www.ahstatic.com/photos/a4n1_ho_00_p_1024x768.jpg",
    "https://www.ahstatic.com/photos/a4n1_rsr001_00_p_2048x1536.jpg",
    "https://images.trvl-media.com/lodging/9000000/8800000/8796900/8796816/3d8691e6.jpg?impolicy=resizecrop&rw=598&ra=fit",
    "https://cf.bstatic.com/xdata/images/hotel/max500/467247046.jpg?k=48837db6f61fc6c147feaae2c848f351e9c013e1771edf6df78c6d3fdad450cd&o=&hp=1",
    "https://cf.bstatic.com/xdata/images/hotel/max1024x768/265768229.jpg?k=5dcecb13248a27d19085536ece1547b212d0dd085399c661846464f992fcea6a&o=",
    "https://cf.bstatic.com/xdata/images/hotel/max500/265768232.jpg?k=0f3e057e3bfcd0454150a8af620b08bed6a8390fe79c367030ad652bfe5fd8c1&o=",
    "https://mercure-istanbul-bomonti.hotel-of-istanbul.com/data/Pics/OriginalPhoto/12809/1280995/1280995144/pic-mercure-bomonti-hotel-istanbul-10.JPEG"
  ],
  "Renaissance Istanbul Polat Bosphorus Hotel": [
    "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0e/4a/2a/58/renaissance-istanbul.jpg?w=1200&h=-1&s=1",
    "https://cache.marriott.com/content/dam/marriott-renditions/ISTBR/istbr-deluxe-king-guestroom-9069-hor-feat.jpg",
    "https://cache.marriott.com/content/dam/marriott-renditions/ISTBR/istbr-breakfast-restaurant-9067-hor-feat.jpg",
    "https://cache.marriott.com/content/dam/marriott-renditions/ISTBR/istbr-lobby-9073-hor-feat.jpg",
    "https://cache.marriott.com/content/dam/marriott-renditions/ISTBR/istbr-guest-bathroom-9068-hor-feat.jpg",
    "https://cache.marriott.com/content/dam/marriott-renditions/ISTBR/istbr-bosphorus-view-9071-hor-feat.jpg",
    "https://cache.marriott.com/content/dam/marriott-renditions/ISTBR/istbr-rooftop-9075-hor-feat.jpg",
    "https://cache.marriott.com/content/dam/marriott-renditions/ISTBR/istbr-fitness-center-9072-hor-feat.jpg",
    "https://cache.marriott.com/content/dam/marriott-renditions/ISTBR/istbr-restaurant-9076-hor-feat.jpg"
  ]
};

function hotelImages(hotelName, cover){
  const custom = customHotelGalleries[hotelName];
  if(custom && custom.length) return custom.slice(0,9);

  const images = [];
  if(cover) images.push(cover);
  for(let i=1; i<=9; i++){
    images.push(imageFromSeed(`${hotelName}-${i}`, 1000, 700));
  }
  return images.slice(0,9);
}

const hotelCoverOverrides = {
  "Marriott Hotel ÅiÅŸli": [
    "https://images.skyscrapercenter.com/building/istanbul-marriott-hotel-sisli_igor-butyrskii1.jpg",
    "https://access.com.tr/wp-content/uploads/2021/08/istdt-exterior-0001-hor-feat.jpg",
    "marriott sisli.jpg",
    "marriott%20sisli.jpg",
    "Marriott Sisli.jpg"
  ],
  "Hilton Istanbul Bomonti": [
    "https://www.instyle.gr/wp-content/uploads/2014/01/21/1-Hilton-Istanbul-Bomonti-Exterior1.jpg",
    "https://x.cdrst.com/foto/hotel-sf/38cfa/granderesp/hilton-istanbul-bomonti-hotel-conference-center-exterior-1209b2d0.jpg",
    "hilton bomonti.jpg",
    "hilton%20bomonti.jpg",
    "Hilton Bomonti.jpg",
    "hilton-bomonti.jpg"
  ],
  "Sheraton Istanbul Levent": [
    "https://media-cdn.tripadvisor.com/media/photo-s/24/9b/1b/c8/exterior.jpg",
    "https://cache.marriott.com/is/image/marriotts7prod/si-istsl-exterior-15986:Wide-Hor?wid=1336&fit=constrain",
    "sheraton levent.webp",
    "sheraton%20levent.webp",
    "Sheraton Levent.webp"
  ],
  "Ramada Plaza By Wyndham Sultanahmet": [
    "https://www.wyndhamhotels.com/content/dam/property-images/en-us/ra/tr/others/istanbul/56602/56602_exterior_view_1.jpg",
    "https://cf.bstatic.com/xdata/images/hotel/max1024x768/522066005.jpg?k=6416ffa8debdeee8b9cec5656271a340ec73978555bbf3327b1a465b1e4e62da&o=&hp=1",
    "ramada plaza sultanahmet.webp",
    "ramada%20plaza%20sultanahmet.webp",
    "Ramada Plaza Sultanahmet.webp"
  ],
  "Crowne Plaza Old City": [
    "https://digital.ihg.com/is/image/ihg/crowne-plaza-istanbul-6228414074-2x1?wid=1440&fit=fit,1",
    "https://www.cpoldcity.com/upload/Exterior2.jpeg"
  ],
  "Point Hotel Taksim": [
    "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/21/6b/90/9e/point-day-time.jpg?w=700&h=-1&s=1",
    "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2b/e5/08/ef/exterior-picture.jpg?w=900&h=500&s=1"
  ],
  "Arts Hotel Harbiye": [
    "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/09/0f/e4/06/arts-hotel-istanbul.jpg?w=900&h=-1&s=1",
    "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/09/42/8a/91/arts-hotel-istanbul.jpg?w=700&h=-1&s=1"
  ],
  "Divan Istanbul Taksim": [
    "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/06/c3/02/df/divan-istanbul.jpg?w=1200&h=-1&s=1",
    "https://thumbs.dreamstime.com/z/istanbul-turkey-may-divan-hotel-located-center-city-taksim-square-beyoglu-istanbul-divan-hotel-taksim-istanbul-101007800.jpg",
    "divan taksim.jpg",
    "divan%20taksim.jpg",
    "Divan Taksim.jpg"
  ],
  "Lions Royal Hotel": [
    "https://cf.bstatic.com/xdata/images/hotel/max1024x768/724099678.jpg?k=190b162e8dd62b9fd4c4f5d7f6d85afb0d2d8864ffd9e7a9f3fca237ab761fac&o=",
    "https://libertihotel.com/images/lion-royal-hotel-front-view.jpg",
    "lions royal.webp",
    "lions%20royal.webp",
    "Lions Royal.webp"
  ],
  "Mercure Istanbul Bomonti": [
    "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2a/1e/bd/9f/exterior.jpg?w=700&h=-1&s=1",
    "https://cdn.tatilsepeti.com/Files/Images/Tesis/06897/1050X700/tsr06897638193399451938550.jpg",
    "mercure bomonti.webp",
    "mercure%20bomonti.webp",
    "Mercure Bomonti.webp"
  ],
  "Holiday Inn ÅiÅŸli": [
    "https://digital.ihg.com/is/image/ihg/holiday-inn-istanbul-5090389494-4x3",
    "https://cf.bstatic.com/xdata/images/hotel/max1024x768/606882061.jpg?k=fd2fb71cf2e5a1ef763f55aaac771f90a109f8ae9d95ce15146f8f2fdd21474c&o=&hp=1",
    "holiday inn sisli.jpg",
    "holiday%20inn%20sisli.jpg",
    "Holiday Inn Sisli.jpg"
  ],
  "Mosaic Hotel Laleli": [
    "https://media-cdn.tripadvisor.com/media/photo-s/05/4c/56/34/exterior-view.jpg"
  ],
  "Beethoven Premium Hotel Laleli": [
    "https://cf.bstatic.com/xdata/images/hotel/max1024x768/286436520.jpg?k=45b8a3c6499d3fda73a63870a56f5709df5821364242f96140f603144fdd8f97&o="
  ],
  "The Parma Downtown Laleli": [
    "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/05/e3/2d/ad/the-parma-hotel.jpg?w=1400&h=-1&s=1"
  ],
  "Martinenz Hotel Laleli": [
    "https://cf.bstatic.com/xdata/images/hotel/max1024x768/289742660.jpg?k=a71b4f6a2a424b95b106d78453346c983e952a836b5b1fe392c47fa80c5d7eb8&o=&hp=1"
  ],
  "Four Sides ÅiÅŸli": [
    "https://cf.bstatic.com/xdata/images/hotel/max1024x768/249173676.jpg?k=2dbfdbb457d6b0863358da918d84e43bea8c00bc1f2fc7d96af7358d847db89d&o=&hp=1"
  ],
  "Mare Park Hotel ÅiÅŸli": [
    "https://cf.bstatic.com/xdata/images/hotel/max1024x768/319791347.jpg?k=2c06ff0bcf139f872294ef702ad9f9038bd2333d57b55072728ddb91d9eb9c53&o=&hp=1"
  ],
  "AkgÃ¼n Istanbul Hotel TopkapÄ±": [
    "http://media-cdn.tripadvisor.com/media/photo-s/02/5d/f3/57/exterior.jpg"
  ],
  "Valide Hotel ÅiÅŸli": [
    "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1d/1f/ff/a0/valide-hotel-sisli.jpg?w=700&h=-1&s=1"
  ],
  "Eresin Hotels TopkapÄ±": [
    "https://image-tc.galaxy.tf/wijpeg-99ed0ya4e1zgmfr1a93gt0lj8/standard.jpg?crop=247%2C0%2C1107%2C830"
  ],
  "Holiday Inn Istanbul City TopkapÄ±": [
    "https://digital.ihg.com/is/image/ihg/holiday-inn-istanbul-6224485588-4x3"
  ],
  "The Marmara Pera": [
    "https://www.themarmarahotels.com/hs-fs/hubfs/Pera/Pictures/Exterior/pera-exterior-5.jpg?width=2400&height=3000&name=pera-exterior-5.jpg"
  ],
  "Arts Hotel Taksim": [
    "https://media-cdn.tripadvisor.com/media/photo-s/29/5d/37/e3/exterior.jpg"
  ],
  "BarcelÃ³ Istanbul": [
    "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/21/5e/5a/55/bist-view.jpg?w=700&h=-1&s=1"
  ],
  "Nevi Hotel & Suites Taksim": [
    "https://cf.bstatic.com/xdata/images/hotel/max1024x768/306099602.jpg?k=b67e38a7cfab1fe46121d526b511d931d2dc471411a6e7de077db508b976fd27&o=&hp=1"
  ]
};

function initMapInteractions(){
  const metroToggle = document.getElementById('toggleMetro');
  const tramToggle = document.getElementById('toggleTram');
  const mapInfo = document.getElementById('mapInfo');
  const metroLines = document.querySelectorAll('[data-layer="metro"]');
  const tramLines = document.querySelectorAll('[data-layer="tram"]');

  const setLayerState = (elements, visible) => {
    elements.forEach((el) => {
      el.style.display = visible ? '' : 'none';
    });
  };

  metroToggle?.addEventListener('change', () => setLayerState(metroLines, metroToggle.checked));
  tramToggle?.addEventListener('change', () => setLayerState(tramLines, tramToggle.checked));

  document.querySelectorAll('.poi').forEach((poi) => {
    poi.addEventListener('click', () => {
      const name = poi.dataset.name || '';
      const info = poi.dataset.info || '';
      if(mapInfo) mapInfo.textContent = `${name}: ${info}`;
    });
  });
}

function initAreaFilter(){
  const areas = [...new Set(
    Array.from(document.querySelectorAll('#hotelList .hotel'))
      .map(h => (h.dataset.area || '').trim())
      .filter(Boolean)
  )];
  const areaFilter = document.getElementById('areaFilter');
  areas.sort((a,b)=>a.localeCompare(b,'ar'));
  areas.forEach((area)=>{
    const opt = document.createElement('option');
    opt.value = area;
    opt.textContent = area;
    areaFilter.appendChild(opt);
  });
}

function renderHotels(){
  const hotels = document.querySelectorAll('#hotelList .hotel');
  hotels.forEach((card) => {
    const hotel = card.dataset.hotel;
    const hotelAr = card.dataset.hotelAr || hotel;
    const city = card.dataset.city || '';
    const area = card.dataset.area || city;
    const stars = Math.max(1, Math.min(parseInt(card.dataset.stars || "5", 10), 5));
    const starsText = "â˜…".repeat(stars);
    const note = card.dataset.note ? ` (${card.dataset.note})` : "";

    const fallbackCover = imageFromSeed(`${hotel}-cover`, 1000, 620);
    const overrideCandidates = hotelCoverOverrides[hotel] || [];
    const cover = (overrideCandidates[0] || fallbackCover);
    const fallbackChain = [...overrideCandidates.slice(1), fallbackCover];

    card.innerHTML = `
      <img class="hotel-thumb" src="${cover}" loading="lazy" alt="ÙˆØ§Ø¬Ù‡Ø© ${hotel}" data-fallbacks='${JSON.stringify(fallbackChain)}'>
      <div class="hotel-meta">
        <div class="hotel-headline">
          <div>
            <b>${hotel}${note}</b>
            <div class="hotel-ar">${hotelAr}${note}</div>
          </div>
          <div class="hotel-rating" aria-label="ØªØµÙ†ÙŠÙ ${stars} Ù†Ø¬ÙˆÙ…">
            <span class="rating-label">Ø§Ù„ØªØµÙ†ÙŠÙ</span>
            <span class="rating-stars">${starsText}</span>
          </div>
        </div>
        <div class="muted">${city}${area ? ` - ${area}` : ''}</div>
      </div>
      <button class="gallery-btn" type="button">Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</button>
    `;
  });
}

function filterHotels(){
  const q = (document.getElementById('q').value || '').toLowerCase().trim();
  const rating = document.getElementById('ratingFilter')?.value || 'all';
  const area = document.getElementById('areaFilter')?.value || 'all';
  const items = document.querySelectorAll('#hotelList .hotel');

  items.forEach(item=>{
    const text = item.innerText.toLowerCase();
    const stars = parseInt(item.dataset.stars || '0', 10);

    const textMatch = text.includes(q);
    const ratingMatch = rating === 'all'
      ? true
      : rating === '5'
        ? stars === 5
        : stars >= 3 && stars <= 4;

    const areaMatch = area === 'all' ? true : (item.dataset.area || '') === area;

    item.style.display = (textMatch && ratingMatch && areaMatch) ? '' : 'none';
  });
}

function resetFilters(){
  document.getElementById('q').value='';
  document.getElementById('ratingFilter').value='all';
  document.getElementById('areaFilter').value='all';
  filterHotels();
}

const lightbox = document.getElementById('lightbox');
const lightboxImage = document.getElementById('lightboxImage');
const lightboxTitle = document.getElementById('lightboxTitle');
const lightboxStrip = document.getElementById('lightboxStrip');
let activeImages = [];
let activeIndex = 0;
let activeHotel = '';

function renderThumbs(){
  lightboxStrip.innerHTML = activeImages.map((src, idx) => (
    `<img src="${src}" class="lightbox-thumb ${idx===activeIndex?'active':''}" data-idx="${idx}" loading="lazy" alt="${activeHotel} ${idx+1}">`
  )).join('');
}

function showImage(index){
  activeIndex = (index + activeImages.length) % activeImages.length;
  lightboxImage.src = activeImages[activeIndex];
  lightboxTitle.textContent = `${activeHotel} â€” ØµÙˆØ±Ø© ${activeIndex + 1} Ù…Ù† ${activeImages.length}`;
  renderThumbs();
}

function openLightbox(hotel, startIndex, cover){
  activeHotel = hotel;
  activeImages = hotelImages(hotel, cover);
  lightbox.classList.add('open');
  lightbox.setAttribute('aria-hidden', 'false');
  showImage(startIndex);
}

function closeLightbox(){
  lightbox.classList.remove('open');
  lightbox.setAttribute('aria-hidden', 'true');
  lightboxImage.src = '';
}

/* init */
renderHotels();
initAreaFilter();
initMapInteractions();
filterHotels();

/* image fallbacks */
document.getElementById('hotelList').addEventListener('error', (e) => {
  const img = e.target.closest('.hotel-thumb');
  if(!img) return;

  const fallbacks = JSON.parse(img.dataset.fallbacks || '[]');
  const next = fallbacks.shift();
  img.dataset.fallbacks = JSON.stringify(fallbacks);

  if(next) img.src = next;
}, true);

/* open gallery */
document.getElementById('hotelList').addEventListener('click', (e) => {
  const card = e.target.closest('.hotel');
  if(!card) return;

  const isImageClick = !!e.target.closest('.hotel-thumb');
  const isButtonClick = !!e.target.closest('.gallery-btn');
  if(!isImageClick && !isButtonClick) return;

  const coverSrc = card.querySelector('.hotel-thumb')?.currentSrc || card.querySelector('.hotel-thumb')?.src || '';
  openLightbox(card.dataset.hotel, 0, coverSrc);
});

/* thumbs */
lightboxStrip.addEventListener('click', (e) => {
  const thumb = e.target.closest('.lightbox-thumb');
  if(!thumb) return;
  showImage(parseInt(thumb.dataset.idx, 10));
});

document.getElementById('lightboxPrev').addEventListener('click', () => showImage(activeIndex - 1));
document.getElementById('lightboxNext').addEventListener('click', () => showImage(activeIndex + 1));
document.getElementById('lightboxClose').addEventListener('click', closeLightbox);

lightbox.addEventListener('click', (e) => {
  if(e.target === lightbox) closeLightbox();
});

document.addEventListener('keydown', (e) => {
  if(!lightbox.classList.contains('open')) return;
  if(e.key === 'Escape') closeLightbox();
  if(e.key === 'ArrowLeft') showImage(activeIndex + 1);
  if(e.key === 'ArrowRight') showImage(activeIndex - 1);
});
</script>

</body>
</html>
